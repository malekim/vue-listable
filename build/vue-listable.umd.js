!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).VueListable=t()}(this,(function(){"use strict";var e={render:function(e){var t=this.generateTable(e),a=this.generatePaginator(e);return this.searchable=this.isSearchable(),e("div",{class:"listable-container"},[t,a])},props:{headings:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},checkbox:{type:Boolean,default:!0}},data:function(){return{checked:[],searchable:!1,searched:{}}},mounted:function(){this.checkErrors()},methods:{checkErrors:function(){this.data.length>0&&this.headings.length!==this.data[0].length&&console.error("Header length("+this.headings.length+") and row length("+this.data[0].length+") are not equal.")},generateTable:function(e){return e("div",{class:"listable"},[this.generateHeader(e),this.generateBody(e)])},generateHeader:function(e){return e("div",{class:"listable-header"},this.generateHeaderRows(e))},generateHeaderRows:function(e){var t=[];return t.push(e("div",{class:{"listable-tr":!0,"listable-tr-active":this.checked.length>0&&this.checked.length===this.data.length}},[this.generateHeaderCells(e,!1)])),this.searchable&&t.push(e("div",{class:{"listable-tr":!0,"listable-tr-search":!0}},[this.generateHeaderCells(e,!0)])),t},isSearchable:function(){for(var e in this.headings)if(this.headings[e].search)return!0;return!1},generateHeaderCells:function(e,t){var a=this,s=[];this.checkbox&&s.push(e("div",{class:{"listable-th":!0,"listable-th-checkbox":!0}},[t?null:e("div",{class:{"listable-checkbox":!0},on:{click:function(){if(a.checked.length>0)a.checked=[];else for(var e in a.checked=[],a.data)a.checked.push(e);a.$emit("checked",a.checked)}}})]));var n=function(n){var i=null;if(t&&a.headings[n].search){var r=null;i=e("input",{class:"listable-search",on:{input:function(e){clearTimeout(r),r=setTimeout((function(){a.$emit("input",e.target.value),a.searched[a.headings[n].column]=e.target.value,a.$emit("search",a.searched)}),500)}}})}var l=null;t||(l=a.headings[n].display),s.push(e("div",{class:"listable-th"},[l,i]))};for(var i in a.headings)n(i);return s},generateBody:function(e){return e("div",{class:"listable-body"},this.generateBodyRows(e))},generateBodyRows:function(e){var t=[];for(var a in this.data){var s="tr_"+a;t.push(e("div",{class:{"listable-tr":!0,"listable-tr-active":-1!==this.checked.indexOf(a)},ref:s},this.generateBodyRowCells(e,a,this.data[a])))}return t},generateBodyRowCells:function(e,t,a){var s=this,n=[];this.checkbox&&n.push(e("div",{class:"listable-td listable-td-checkbox"},[e("div",{class:"listable-checkbox",on:{click:function(){var e=s.checked.indexOf(t);-1!==e?s.checked.splice(e,1):s.checked.push(t),s.$emit("checked",s.checked)}}})]));var i=function(i){var r=s.headings[i].column,l=null,c="td_"+t+"_"+i;if(s.$scopedSlots[r]){var h=s.$scopedSlots[r](a);l=e("div",{class:["listable-td"],style:[],ref:c},[h])}else l=e("div",{class:["listable-td"],style:[],ref:c},void 0===a[r]||null===a[r]?"":a[r].constructor===Array?"":a[r].constructor===Object?"":a[r]);n.push(l),s.$nextTick((function(){s.$emit("hook",s.$refs[c],r,a)}))};for(var r in s.headings)i(r);return n},generatePaginator:function(e){return this.$slots.paginator?e("div",{class:"listable-paginator"},this.$slots.paginator):null}},beforeDestroy:function(){}};return{install:function(t,a){t.component("listable",e)}}}));
